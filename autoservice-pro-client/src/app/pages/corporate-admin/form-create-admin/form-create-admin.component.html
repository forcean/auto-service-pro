<div
  class="min-h-screen bg-[#0f172a] flex justify-center items-start py-10 px-4">

  <div class="bg-white w-full max-w-3xl rounded-xl p-8 shadow-lg">

    <h2 class="font-bold text-gray-800 mb-6">
      เพิ่มบุคลากรในองค์กร
    </h2>

    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-6">

      <!-- Basic Information -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block mb-1 text-gray-700">Firstname</label>
          <input type="text" formControlName="firstname"
            class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-yellow-400">
        </div>

        <div>
          <label class="block mb-1 text-gray-700">Lastname</label>
          <input type="text" formControlName="lastname"
            class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-yellow-400">
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block mb-1 text-gray-700">Username</label>
          <input type="text" formControlName="username"
            class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-yellow-400">
        </div>

        <div>
          <label class="block mb-1 text-gray-700">Password</label>
          <input type="password" formControlName="password"
            class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-yellow-400">
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block mb-1 text-gray-700">Phone Number</label>
          <input type="text"
            formControlName="phone"
            appNumeric
            class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-yellow-400">
        </div>

        <div>
          <label class="block mb-1 text-gray-700">Email</label>
          <input type="email" formControlName="email"
            class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-yellow-400">
        </div>
      </div>

      <!-- Role Selection -->
      <div>
        <label class="block mb-1 text-gray-700">Role</label>
        <select formControlName="role"
          (change)="onRoleChange()"
          class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-yellow-400">
          <option value>-- เลือก Role --</option>
          <option value="ADM">Admin (ADM)</option>
          <option value="MNG">Manager (MNG)</option>
          <option value="ACC">Accountant (ACC)</option>
          <option value="SAL">Sale (SAL)</option>
          <option value="STC">Stock Controller (STC)</option>
          <option value="MEC">Mechanic (MEC)</option>
        </select>
      </div>

      <!-- Manager Selection (show only when needed) -->
      <div *ngIf="mustSelectManager">
        <label class="block mb-1 text-gray-700">สังกัด Manager</label>
        <select
          formControlName="managerId"
          class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-yellow-400">
          <option value>-- เลือก Manager --</option>
          <option *ngFor="let m of managerList" [value]="m.id">
            {{ m.firstname }} {{ m.lastname }}
          </option>
        </select>
      </div>

      <!-- Submit Button -->
      <div class="pt-4">
        <button
          type="submit"
          class="w-full bg-yellow-400 hover:bg-yellow-500 text-black font-semibold py-3 rounded-lg shadow-md transition">
          เพิ่มผู้ใช้งาน
        </button>
      </div>

    </form>
  </div>
</div>
